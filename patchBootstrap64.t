Ly8KLy8gcGF0Y2hCb290c3RyYXAudAovLwovLyBMb2FkZXIgZm9yIHBhdGNoIGZpbGUuCmZ1bmN0
aW9uKCkgewoJcGF0Y2hMb2FkZXIuc2V0TWV0aG9kKCZsb2FkUGF0Y2gsIG1ldGhvZCgpIHsKCQl0
cnkgewoJCQlsb2NhbCBmaWxlSGFuZGxlLCBsaW5lLCBwYXRjaEJ1ZjsKCgkJCWZpbGVIYW5kbGUg
PSBGaWxlLm9wZW5UZXh0RmlsZShwYXRjaExvYWRlci5wYXRjaEZpbGUsCgkJCQlGaWxlQWNjZXNz
UmVhZCwgJ3V0ZjgnKTsKCgkJCXBhdGNoQnVmID0gbmV3IFN0cmluZ0J1ZmZlcihmaWxlSGFuZGxl
LmdldEZpbGVTaXplKCkpOwoJCQlsaW5lID0gZmlsZUhhbmRsZS5yZWFkRmlsZSgpOwoKCQkJd2hp
bGUobGluZSAhPSBuaWwpIHsKCQkJCXBhdGNoQnVmLmFwcGVuZChsaW5lKTsKCQkJCWxpbmUgPSBm
aWxlSGFuZGxlLnJlYWRGaWxlKCk7CgkJCX0KCQkJZmlsZUhhbmRsZS5jbG9zZUZpbGUoKTsKCgkJ
CXBhdGNoQnVmID0gcGF0Y2hMb2FkZXIuZGVjb2RlKHRvU3RyaW5nKHBhdGNoQnVmKSk7CgoJCQlp
ZighdmVyaWZ5UGF0Y2gocGF0Y2hCdWYpKQoJCQkJcGF0Y2hWZXJpZmljYXRpb25GYWlsZWQoKTsK
CgkJCXBhdGNoTG9hZGVyLnNldE1ldGhvZCgmYXBwbHlQYXRjaCwKCQkJCUNvbXBpbGVyLmNvbXBp
bGUocGF0Y2hCdWYpKTsKCQl9CgkJY2F0Y2goRXhjZXB0aW9uIGUpIHsKCQkJaWYoZS5vZktpbmQo
RmlsZU5vdEZvdW5kRXhjZXB0aW9uKSkKCQkJCXBhdGNoTG9hZGVyLl9kZWJ1ZygnUGF0Y2ggY29t
cGlsZSBmYWlsZWQ6JywgZSk7CgkJCWVsc2UKCQkJCXBhdGNoTG9hZGVyLl9lcnJvcignUGF0Y2gg
Y29tcGlsZSBmYWlsZWQ6JywgZSk7CgkJfQoJfSk7Cn0K
